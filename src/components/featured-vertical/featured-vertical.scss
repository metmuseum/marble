//Flickity control
.featured-vertical-items__wrapper {
    display: flex;
    flex-direction: column;

    &:after { //enable flickity with watchCSS option
        content: 'flickity';
        display: none;
      }
    
    @media screen and (min-width: $bp-large-card) {

        &:after {
            content: '';
        }
    }
}

//page
.featured-vertical {
    padding: $spacing-l 0;

    @media screen and (min-width: $bp-large-card) {
        @include productive-component;
    }
}

.featured-vertical__wrapper {

    @media screen and (min-width: $bp-large-card) {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-column-gap: $spacing-xl;
	}
}

.featured-vertical-items {

    .article-card {
        margin-bottom: 0;

        @media screen and (min-width: $bp-large-card) {
            margin-bottom: $spacing-m;

            &:last-child {
                margin-bottom: 0;
            }
        }
    }

    .article-card__header {
        margin-bottom: $spacing-micro;
    }
    
    .article-card__header-heading {
        transform-origin: left;

        @media screen and (min-width: $bp-large-card) {
            display: inline-block;
            transition: transform 0.3s ease;
        }
    }

    .poster-changer-active {
        @media screen and (min-width: $bp-large-card) {
            color: #5D1049;
            text-decoration: underline;
            transform: scale(1.2);
        }
    }

    .article-card__image-wrapper {
        @media screen and (min-width: $bp-large-card) {
            display: none;
        }
    }
}

//big image
.featured-vertical-image {
    display: none;
    
    @media screen and (min-width: $bp-large-card) {
        display: flex;
        max-height: 45vw;
        position: sticky;
        top: 20px;
    }
}

.featured-vertical-image__image-wrapper {
    box-shadow: 5px 4px 8px rgba(0,0,0,.3);
	flex-basis: 50%;
    flex-grow: 1;
}

.featured-vertical-image__image-wrapper {
	min-height: 0;
	overflow: hidden;
	position: relative;
}

.featured-vertical-image__image-link {
	border: 0;
	display: block;
	line-height: 0;
	min-height: 100%;
	min-width: 100%;
	padding: 0;
	position: absolute;
}

.featured-vertical-image__image {
	height: 100%;
	left: 0;
	object-fit: cover;
	object-position: center center;
	position: absolute;
	top: 0;
	transform-origin: center;
    border-radius: $radius-sharp;
    opacity: 0;
    transition: transform 0.4s ease-out, opacity .75s ease-in-out;
    width: 100%;
    
    &.image-opaque {
        opacity: 1;
    }

    //If the a tag wrapping the image has an href and is being hovered
	//Or if the featured-vertical-image has focus
	a:not([href=""]):hover &,
	.featured-vertical-image:focus-within & {
		transform: scale(1.06);
	}
}
